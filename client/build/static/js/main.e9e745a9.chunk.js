(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{51:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n.n(o),a=n(26),i=n.n(a),s=n(11),r=n(2),l=n(12),u=n(9),d=n.n(u),m={getBooks:function(e){return d.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},getSavedBooks:function(){return d.a.get("./api/books")},getBook:function(e){return d.a.get("/api/books/"+e)},deleteBook:function(e){return d.a.delete("/api/books/"+e)},saveBook:function(e){return d.a.post("/api/books",e)}},j=n(1);var h=function(e){return Object(j.jsx)("button",{className:"btn btn-primary",onClick:e.onClick,children:e.children})};var b=function(e){return Object(j.jsx)("section",{className:"border my-color pb-2 mb-3",children:Object(j.jsx)("div",{className:"col-md-10 col-sm-12 mx-auto ",children:Object(j.jsxs)("div",{className:"p-2 rounded",children:[Object(j.jsx)("h5",{className:" mb-2 text-white",children:"Book"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("input",{className:"form-control mr-sm-2",onChange:e.handleInputChange,value:e.value,type:"search",placeholder:"Search books...","aria-label":"Search"}),Object(j.jsx)(h,{onClick:e.handleFormSubmit,type:"submit",children:"Search"})]})]})})})};n(51);var f=function(e){return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:e.image,className:"card-img-top",alt:e.title}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:e.title}),Object(j.jsxs)("p",{className:"card-text",children:[" Written by"," ",e.authors?e.authors.join(", "):"Unknown author"]}),Object(j.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:"View"}),Object(j.jsx)("p",{className:"card-text",children:e.description}),Object(j.jsx)(h,{})]})]},e.id)};var v=function(){var e=Object(o.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(""),i=Object(l.a)(a,2),s=i[0],r=i[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{handleFormSubmit:function(e){e.preventDefault(),m.getBooks(s).then((function(e){c(e.data.items)})).catch((function(e){return console.log(e)}))},handleInputChange:function(e){r(e.target.value)}}),Object(j.jsx)("div",{children:n.map((function(e){return Object(j.jsx)(f,{title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"".concat("/icons/image-not-found.png"),link:e.volumeInfo.infoLink,onClick:function(){return function(e){var t=n.find((function(t){return t.id===e}));if(void 0===t.volumeInfo.authors&&(t.volumeInfo.authors=["Unknown author"]),"undefined"===typeof t.volumeInfo.imageLinks){var o="".concat("/icons/image-not-found.png");t.volumeInfo.imageLinks={thumbnail:o}}m.saveBook({title:t.volumeInfo.title,subtitle:t.volumeInfo.subtitle,authors:t.volumeInfo.authors[0],description:t.volumeInfo.description,image:t.volumeInfo.imageLinks.thumbnail,link:t.volumeInfo.infoLink}).then((function(e){console.log(e)})).catch((function(e){return console.log(e.response)}))}(e.id)},label:"Save"},e.id)}))})]})};var p=function(){var e=Object(o.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1];function a(){m.getSavedBooks().then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}return Object(o.useEffect)((function(){a()}),[]),Object(j.jsx)("div",{children:n.map((function(e){return Object(j.jsx)(f,{title:e.title,authors:e.authors,description:e.description,image:e.image,link:e.link,onClick:function(){return function(e){m.deleteBook(e._id).then((function(e){a()})).catch((function(e){return console.error(e)}))}(e)},label:"Delete"},e._id)}))})};var O=function(){var e=Object(r.f)();return Object(j.jsxs)("ul",{className:"nav nav-tabs",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(s.b,{to:"/",className:"/"===e.pathname||"/search"===e.pathname||"/search/"===e.pathname?"nav-link active":"nav-link",children:"Search"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(s.b,{to:"/portfolio",className:"/saved"===e.pathname?"nav-link active":"nav-link",children:"Saved"})})]})};n(57);var x=function(){return Object(j.jsx)(s.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(O,{}),Object(j.jsxs)(r.c,{children:[Object(j.jsx)(r.a,{exact:!0,path:"/",component:v}),Object(j.jsx)(r.a,{exact:!0,path:"/search",component:v}),Object(j.jsx)(r.a,{exact:!0,path:"/saved",component:p})]})]})})};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.e9e745a9.chunk.js.map
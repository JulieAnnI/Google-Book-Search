{"version":3,"sources":["utils/API.js","components/Buttons/index.js","components/SearchBar/index.js","components/BookCard/index.js","pages/Search.js","pages/Saved.js","components/Nav/index.js","App.js","index.js"],"names":["exportedObject","getBooks","query","axios","get","getSavedBooks","getBook","id","deleteBook","delete","saveBook","bookData","post","Buttons","props","className","onClick","children","SearchBar","onChange","handleInputChange","value","type","placeholder","aria-label","handleFormSubmit","BookCard","src","image","alt","title","authors","join","href","link","target","rel","description","Search","useState","books","setBooks","setQuery","event","preventDefault","API","then","res","data","items","catch","err","console","log","map","book","volumeInfo","imageLinks","thumbnail","infoLink","find","undefined","val","subtitle","response","label","Saved","loadSavedBooks","useEffect","_id","error","Nav","location","useLocation","to","pathname","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e9e745a9.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst exportedObject = {\r\n  // Gets all books from google api\r\n  getBooks: function (query) {\r\n    return axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\" + query);\r\n  },\r\n  // Gets all saved books\r\n  getSavedBooks: function () {\r\n    return axios.get(\"./api/books\");\r\n  },\r\n  // Gets the book with the given id\r\n  getBook: function (id) {\r\n    return axios.get(\"/api/books/\" + id);\r\n  },\r\n  // Deletes the book with the given id\r\n  deleteBook: function (id) {\r\n    return axios.delete(\"/api/books/\" + id);\r\n  },\r\n  // Saves a book to the database\r\n  saveBook: function (bookData) {\r\n    return axios.post(\"/api/books\", bookData);\r\n  }\r\n};\r\nexport default exportedObject;","import React from \"react\";\r\n\r\n\r\nfunction Buttons(props) {\r\n    return(\r\n        <button className=\"btn btn-primary\" onClick={props.onClick}>{props.children}</button>\r\n    )\r\n\r\n}\r\n\r\nexport default Buttons;","import React from \"react\";\r\nimport Buttons from \"../Buttons\"\r\n\r\n\r\nfunction SearchBar(props) {\r\n  return (\r\n    <section className=\"border my-color pb-2 mb-3\">\r\n      <div className=\"col-md-10 col-sm-12 mx-auto \">\r\n        <div className=\"p-2 rounded\">\r\n          <h5 className=\" mb-2 text-white\">Book</h5>\r\n          <div className=\"input-group\">\r\n            <input\r\n              className=\"form-control mr-sm-2\"\r\n              onChange={props.handleInputChange}\r\n              value={props.value}\r\n              type=\"search\"\r\n              placeholder=\"Search books...\"\r\n              aria-label=\"Search\"\r\n            />\r\n            <Buttons\r\n              onClick={props.handleFormSubmit}\r\n              type=\"submit\"\r\n            >\r\n              Search \r\n            </Buttons>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SearchBar;","\r\nimport React from \"react\";\r\nimport Buttons from \"../Buttons\";\r\nimport \"./style.css\";\r\n\r\n\r\nfunction BookCard(props) {\r\n  return (\r\n    <div className=\"card\" key={props.id}>\r\n        <img src={props.image} className=\"card-img-top\" alt={props.title}/>\r\n        <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{props.title}</h5>\r\n            <p className=\"card-text\"> Written by{\" \"}\r\n            {props.authors ? props.authors.join(`, `) : \"Unknown author\"}</p>\r\n            <a href={props.link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                View\r\n              </a>\r\n            <p className= \"card-text\">{props.description}</p>\r\n        <Buttons  />\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookCard;","import React, { useState } from \"react\";\r\nimport API from \"../utils/API\";\r\nimport SearchBar from \"../components/SearchBar\";\r\n\r\nimport BookCard from \"../components/BookCard\";\r\n\r\n\r\nfunction Search() {\r\n    // Setting our component's initial state\r\n    const [books, setBooks] = useState([]);\r\n    const [query, setQuery] = useState(\"\");\r\n    // Handles updating component state when the user types into the input field\r\n    function handleInputChange(event) {\r\n      setQuery(event.target.value);\r\n    }\r\n  \r\n    // When the form is submitted, use the API.saveBook method to save the book data\r\n    // Then reload books from the database\r\n    function handleFormSubmit(event) {\r\n      event.preventDefault();\r\n      API.getBooks(query)\r\n        .then((res) => {\r\n          setBooks(res.data.items);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  \r\n    function saveBook(id) {\r\n      const book = books.find((book) => book.id === id);\r\n      // if no author\r\n      if (book.volumeInfo.authors === undefined) {\r\n        book.volumeInfo.authors = [\"Unknown author\"];\r\n      }\r\n      //if no image assigned\r\n      if (typeof(book.volumeInfo.imageLinks) === \"undefined\") {\r\n        let val = `${process.env.PUBLIC_URL + \"/icons/image-not-found.png\"}`;\r\n        book.volumeInfo.imageLinks = { thumbnail: val };\r\n        }\r\n  \r\n        API.saveBook({\r\n        title: book.volumeInfo.title,\r\n        subtitle: book.volumeInfo.subtitle,\r\n        authors: book.volumeInfo.authors[0],\r\n        description: book.volumeInfo.description,\r\n        image: book.volumeInfo.imageLinks.thumbnail,\r\n        link: book.volumeInfo.infoLink,\r\n      })\r\n        .then((res) => {\r\n         console.log(res); \r\n        })\r\n        .catch((err) => console.log(err.response));\r\n    }\r\n\r\n    return (\r\n        <div>\r\n          <SearchBar\r\n            handleFormSubmit={handleFormSubmit}\r\n            handleInputChange={handleInputChange}\r\n          />\r\n            <div>\r\n              {books.map((book) => (\r\n                <BookCard\r\n                  key={book.id}\r\n                  title={book.volumeInfo.title}\r\n                  authors={book.volumeInfo.authors}\r\n                  description={book.volumeInfo.description}\r\n                  image={\r\n                    book.volumeInfo.imageLinks\r\n                      ? book.volumeInfo.imageLinks.thumbnail\r\n                      : `${process.env.PUBLIC_URL + \"/icons/image-not-found.png\"}`\r\n                  }\r\n                  link={book.volumeInfo.infoLink}\r\n                  onClick={() => saveBook(book.id)}\r\n                  label=\"Save\"\r\n                />\r\n              ))}\r\n            </div>\r\n        </div>\r\n      );\r\n}\r\n    \r\nexport default Search;\r\n ","import React, { useState, useEffect } from \"react\";\r\nimport API from \"../utils/API\";\r\n\r\nimport BookCard from \"../components/BookCard\";\r\n\r\n\r\nfunction Saved() {\r\n  const [books, setBooks] = useState([]);\r\n\r\n  // Load all books and store them with setBooks\r\n  useEffect(() => {\r\n    loadSavedBooks();\r\n  }, []);\r\n\r\n  // Loads all books and sets them to books\r\n  function loadSavedBooks() {\r\n    API.getSavedBooks()\r\n      .then((res) => setBooks(res.data))\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  // Deletes a book from the database with a given id, then reloads books from the db\r\n  function deleteBook(book) {\r\n    API.deleteBook(book._id)\r\n      .then((res) => {\r\n        loadSavedBooks();\r\n      })\r\n      .catch((err) => console.error(err));\r\n  }\r\n\r\n  return (\r\n        <div>\r\n          {books.map((book) => (\r\n            <BookCard\r\n              key={book._id}\r\n              title={book.title}\r\n              authors={book.authors}\r\n              description={book.description}\r\n              image={book.image}\r\n              link={book.link}\r\n              onClick={() => deleteBook(book)}\r\n              label=\"Delete\"\r\n            ></BookCard>\r\n          ))}\r\n        </div>\r\n     \r\n  );\r\n}\r\n\r\nexport default Saved;","\r\nimport React from \"react\";\r\nimport {Link, useLocation } from \"react-router-dom\";\r\n\r\n\r\nfunction Nav() {\r\n\r\n    const location = useLocation();\r\n\r\n    return (\r\n        <ul className=\"nav nav-tabs\">\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/\" className={location.pathname === \"/\" || location.pathname === \"/search\"|| location.pathname === \"/search/\" ? \"nav-link active\" : \"nav-link\"}>\r\n                    Search\r\n                </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/portfolio\" className={location.pathname === \"/saved\" ? \"nav-link active\" : \"nav-link\"}>\r\n                    Saved\r\n                </Link>\r\n            </li>\r\n      </ul>\r\n    );\r\n}\r\n\r\nexport default Nav;","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Search from \"./pages/Search\";\nimport Saved from \"./pages/Saved\";\nimport Nav from \"./components/Nav\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction App() {\n  return (\n    <Router>\n      <div>\n          <Nav />\n          <Switch>\n            <Route exact path=\"/\" component={Search} />\n            <Route exact path=\"/search\" component={Search} />\n            <Route exact path=\"/saved\" component={Saved} />\n          </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}